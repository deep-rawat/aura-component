<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" controller="NewAccAuraCmpController">
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="acc" type="Account" default="{
		'sobjectType': 'Account',
        'Name': ''                                                                                               
	}"/>
    <aura:attribute name="recordId" type="string"/>
    <aura:attribute name="contacts" type="object[]"/>
    <aura:attribute name="accId" type="Id"/>
    <article class="slds-card">
        
	<div class="slds-card__header slds-grid">
                <header class="slds-media slds-media_center slds-has-flexi-truncate">
                    <div class="slds-media__figure">
                        <span class="slds-icon_container slds-icon-standard-account" >
                            <lightning:icon iconName="standard:account" alternativeText="Account" title="Account" />
                            <span class="slds-assistive-text">Account</span>
                        </span>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                        	<span>New Account</span>
                        </h2>
                    </div>
                </header>
            </div>
            <lightning:recordEditForm recordId="" objectApiName="Account">
                            <lightning:messages />
        <div class="slds-card__body slds-card__body_inner">
                    <article class="slds-card slds-card_boundary">
                        <div class="slds-card__header slds-grid">
                            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                <div class="slds-media__body">
                                    <h2 class="slds-card__header-title">
                                        <span>Account Information</span>
                                    </h2>
                                </div>
                            </header>
                        </div>
                        
                            <div class="slds-card__body slds-card__body_inner">
                                <div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">
                                                <abbr class="slds-required" title="required">* </abbr>Account Name</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Name}" fieldName="Name" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Rating</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Rating}" fieldName="Rating" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Account Number</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.AccountNumber}" fieldName="AccountNumber" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Industry</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Industry}" fieldName="Industry" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Account Site</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Site}" fieldName="Site" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Active</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Active__c}" fieldName="Active__c" variant="label-hidden" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Clean Status</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.CleanStatus}" fieldName="CleanStatus" variant="label-hidden" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Type</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.Type}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </article>
                </div>
        <div class="slds-card__body slds-card__body_inner">
                    <article class="slds-card slds-card_boundary">
                        <div class="slds-card__header slds-grid">
                            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                <div class="slds-media__body">
                                    <h2 class="slds-card__header-title">
                                        <span>Address Information</span>
                                    </h2>
                                </div>
                            </header>
                        </div>
                        <div class="slds-card__body slds-card__body_inner">
                        	<div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                             	<div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                    <div class="slds-form-element">
                                        <label class="slds-form-element__label" style="font-size:15px"><strong>Billing Address</strong></label><br/>
                                        <label class="slds-form-element__label">Billing Street</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.BillingStreet}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                    </div>
                                </div>
                                <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-2">
                                    <div class="slds-form-element">
                                        <label class="slds-form-element__label" style="font-size:15px"><strong>Shipping Address</strong></label><br/>
                                        <label class="slds-form-element__label">Shipping Street</label>
                                        <div class="slds-form-element__control">
                                            <lightning:inputField value="{!v.acc.ShippingStreet}" fieldName="Type" variant="label-hidden"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Billing City</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.BillingCity}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Billing State</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.BillingState}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                	<div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Shipping City</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.ShippingCity}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Shipping State</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.ShippingState}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            	<div class="slds-grid slds-grid_pull-padded-medium slds-wrap">
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Billing Postal Code</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.BillingPostalCode}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Billing Country</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.BillingCountry}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                	<div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Shipping Postal Code</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.ShippingPostalCode}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-order_2 slds-large-order_1 slds-p-horizontal_medium slds-size_1-of-4">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label">Shipping Country</label>
                                            <div class="slds-form-element__control">
                                                <lightning:inputField value="{!v.acc.ShippingCountry}" fieldName="Type" variant="label-hidden"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </article>
        		</div>
            </lightning:recordEditForm>
            	<div class="slds-card__body slds-card__body_inner">
            	<article class="slds-card slds-card_boundary">
            		<div class="slds-card__header slds-grid">
                		<header class="slds-media slds-media_center slds-has-flexi-truncate">
                    <div class="slds-media__figure">
                        <span class="slds-icon_container slds-icon-standard-contact" >
                            <lightning:icon iconName="standard:contact" alternativeText="Contact" title="Contact" />
                            <span class="slds-assistive-text">Contact</span>
                        </span>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                        	<span>Contact</span>
                        </h2>
                    </div>
                </header>
                        <lightning:button label="Add Row" class="slds-button slds-button_brand" onclick="{!c.addRow}"/>
            			<lightning:button label="Delete Selected" class="slds-button slds-button_destructive" onclick="{!c.deleteSelected}"/>
            		</div>
            		<div class="slds-card__body slds-card__body_inner">
                    <table class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols slds-table_col-bordered" role="grid">
                        <thead>
                        	<tr class="slds-line-height_reset">
                            	<th class="slds-text-align_right slds-cell_action-mode" scope="col" style="width:3.25rem">
                                    <lightning:input type="checkbox" />
                                </th>
                                <th class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                	<a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
										<div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
											<span class="slds-truncate" title="First Name">First Name</span>
										</div>
									</a>
                                    <div class="slds-resizable">
										<span class="slds-resizable__handle">
										</span>
									</div>
                                </th>
                                <th class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                	<a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
										<div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
											<span class="slds-truncate" title="First Name">Last Name</span>
										</div>
									</a>
                                    <div class="slds-resizable">
										<span class="slds-resizable__handle">
										</span>
									</div>
                                </th>
                                <th class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                	<a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
										<div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
											<span class="slds-truncate" title="Email">Email</span>
										</div>
									</a>
                                    <div class="slds-resizable">
										<span class="slds-resizable__handle">
										</span>
									</div>
                                </th>
                                <th class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                	<a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
										<div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
											<span class="slds-truncate" title="Phone">Phone</span>
										</div>
									</a>
                                    <div class="slds-resizable">
										<span class="slds-resizable__handle">
										</span>
									</div>
                                </th>
                                <th class="slds-is-resizable slds-is-sortable slds-cell_action-mode" scope="col">
                                	<a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
										<div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
											<span class="slds-truncate" title="Action">Action</span>
										</div>
									</a>
                                    <div class="slds-resizable">
										<span class="slds-resizable__handle">
										</span>
									</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <aura:iteration items="{!v.contacts}" var="wrap" indexVar="index">
                        	<tr aria-selected="false" class="slds-hint-parent">
                            	<td>
                                    <div style="margin:0 0 0 12px">
                                	<lightning:input type="checkbox" style="text-align:center" checked="{!wrap.check}"/>
                                    </div>
                                </td>
                                <td class="slds-cell_action-mode" role="gridcell">
                                    <lightning:input value="{!wrap.con.FirstName}" Name="First Name" variant="label-hidden" type="text"/>
								</td>
                                <td class="slds-cell_action-mode" role="gridcell">
									<lightning:input value="{!wrap.con.LastName}" Name="Last Name" variant="label-hidden" type="text" required="true"/>
								</td>
                                <td class="slds-cell_action-mode" role="gridcell">
									<lightning:input value="{!wrap.con.Email}" Name="Email" variant="label-hidden" type="email"/>
								</td>
                                <td class="slds-cell_action-mode" role="gridcell">
									<lightning:input value="{!wrap.con.Phone}" Name="Phone" variant="label-hidden" type="number"/>
								</td>
                                <td class="slds-cell_action-mode" role="gridcell">
									<lightning:button variant="destructive" name="{!index}" label="Delete" onclick="{!c.deleteRow}"/>
								</td>
                            </tr>
                            </aura:iteration>    
                        </tbody>
                    </table>	       
                    </div>
            	</article>
        	</div>
            <footer class="slds-card__footer">
        		<lightning:button class="slds-m-top_small" variant="brand" type="submit" name="Save" label="Save" onclick="{!c.createAccount}"/>
        	</footer>
    </article>
</aura:component>
